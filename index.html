<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Barbearia Elite</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/lucide@0.263.0/dist/umd/lucide.js"></script>
    <style>
        .lucide { width: 1em; height: 1em; stroke: currentColor; stroke-width: 2; stroke-linecap: round; stroke-linejoin: round; fill: none; }
    </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900">
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState, useEffect } = React;
        
        // Componente principal da Barbearia
        const BarbeariaApp = () => {
            const [currentView, setCurrentView] = useState('booking');
            const [selectedService, setSelectedService] = useState('corte');
            const [selectedDate, setSelectedDate] = useState('');
            const [selectedTime, setSelectedTime] = useState('');
            const [customerName, setCustomerName] = useState('');
            const [customerPhone, setCustomerPhone] = useState('');
            const [bookingConfirmation, setBookingConfirmation] = useState(null);
            const [queuePosition, setQueuePosition] = useState(null);
            
            const services = [
                { id: 'corte', name: 'Corte de Cabelo', duration: 45, price: 'R$45' },
                { id: 'barba', name: 'Barba Completa', duration: 30, price: 'R$35' },
                { id: 'combo', name: 'Corte + Barba', duration: 60, price: 'R$70' },
                { id: 'sobrancelha', name: 'Sobrancelha', duration: 15, price: 'R$20' }
            ];

            const [queue, setQueue] = useState([
                { id: 1, name: 'João Silva', service: 'corte', timestamp: new Date(Date.now() - 30 * 60000), status: 'in-progress' },
                { id: 2, name: 'Carlos Mendes', service: 'barba', timestamp: new Date(Date.now() - 10 * 60000), status: 'waiting' },
                { id: 3, name: 'Miguel Santos', service: 'combo', timestamp: new Date(), status: 'waiting' }
            ]);

            const handleBookingSubmit = (e) => {
                e.preventDefault();
                const newBooking = {
                    id: Date.now(),
                    name: customerName,
                    phone: customerPhone,
                    service: selectedService,
                    date: selectedDate,
                    time: selectedTime,
                    duration: services.find(s => s.id === selectedService)?.duration || 45
                };
                setBookingConfirmation(newBooking);
                setCurrentView('confirmation');
            };

            const handleJoinQueue = () => {
                const newQueueEntry = {
                    id: queue.length > 0 ? Math.max(...queue.map(q => q.id)) + 1 : 1,
                    name: customerName || 'Cliente',
                    service: selectedService,
                    timestamp: new Date(),
                    status: queue.length === 0 ? 'in-progress' : 'waiting'
                };
                
                if (queue.length === 0) {
                    setQueue([newQueueEntry]);
                } else {
                    setQueue(prev => [...prev, newQueueEntry]);
                }
                
                setQueuePosition(queue.length + 1);
                setCurrentView('queue');
            };

            const getServiceName = (serviceId) => {
                return services.find(s => s.id === serviceId)?.name || serviceId;
            };

            const formatTime = (date) => {
                return date.toLocaleTimeString('pt-BR', { hour: '2-digit', minute: '2-digit' });
            };

            const calculateWaitTime = (position) => {
                if (position <= 1) return 'Agora';
                const totalWait = (position - 1) * 45;
                const hours = Math.floor(totalWait / 60);
                const minutes = totalWait % 60;
                if (hours > 0) {
                    return `${hours}h ${minutes}min`;
                }
                return `${minutes}min`;
            };

            // Ícones como componentes React
            const ScissorsIcon = () => React.createElement('i', { 
                className: 'lucide',
                dangerouslySetInnerHTML: { __html: '<line x1="6" y1="3" x2="6" y2="15"></line><circle cx="6" cy="15" r="3"></circle><line x1="18" y1="3" x2="18" y2="15"></line><circle cx="18" cy="15" r="3"></circle>' }
            });

            const CalendarIcon = () => React.createElement('i', {
                className: 'lucide',
                dangerouslySetInnerHTML: { __html: '<rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line>' }
            });

            const UsersIcon = () => React.createElement('i', {
                className: 'lucide',
                dangerouslySetInnerHTML: { __html: '<path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path>' }
            });

            const CheckCircleIcon = () => React.createElement('i', {
                className: 'lucide',
                dangerouslySetInnerHTML: { __html: '<path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline>' }
            });

            return React.createElement('div', { className: 'min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900' },
                // Header
                React.createElement('header', { 
                    className: 'bg-gray-800/50 backdrop-blur-sm border-b border-gray-700' 
                },
                    React.createElement('div', { className: 'max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4' },
                        React.createElement('div', { className: 'flex items-center justify-between' },
                            React.createElement('div', { className: 'flex items-center space-x-3' },
                                React.createElement('div', { className: 'w-10 h-10 bg-amber-500 rounded-full flex items-center justify-center' },
                                    React.createElement(ScissorsIcon)
                                ),
                                React.createElement('div', null,
                                    React.createElement('h1', { className: 'text-2xl font-bold text-white' }, 'Barbearia Elite'),
                                    React.createElement('p', { className: 'text-amber-400 text-sm' }, 'Estilo e Precisão')
                                )
                            ),
                            React.createElement('div', { className: 'flex space-x-2' },
                                React.createElement('button', {
                                    onClick: () => setCurrentView('booking'),
                                    className: `px-4 py-2 rounded-lg font-medium transition-colors ${
                                        currentView === 'booking'
                                            ? 'bg-amber-500 text-gray-900'
                                            : 'text-gray-300 hover:text-white hover:bg-gray-700'
                                    }`
                                }, 'Agendamento'),
                                React.createElement('button', {
                                    onClick: () => setCurrentView('queue'),
                                    className: `px-4 py-2 rounded-lg font-medium transition-colors ${
                                        currentView === 'queue'
                                            ? 'bg-amber-500 text-gray-900'
                                            : 'text-gray-300 hover:text-white hover:bg-gray-700'
                                    }`
                                }, 'Fila de Espera')
                            )
                        )
                    )
                ),

                // Main Content
                React.createElement('main', { className: 'max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8' },
                    currentView === 'booking' && React.createElement('div', { 
                        className: 'bg-gray-800/50 backdrop-blur-sm rounded-2xl border border-gray-700 p-6 sm:p-8' 
                    },
                        React.createElement('div', { className: 'text-center mb-8' },
                            React.createElement(CalendarIcon, { className: 'w-12 h-12 text-amber-500 mx-auto mb-4' }),
                            React.createElement('h2', { className: 'text-3xl font-bold text-white mb-2' }, 'Agendamento Online'),
                            React.createElement('p', { className: 'text-gray-400' }, 'Escolha seu serviço e horário preferido')
                        ),
                        React.createElement('form', { onSubmit: handleBookingSubmit, className: 'space-y-6' },
                            // Service Selection
                            React.createElement('div', null,
                                React.createElement('label', { className: 'block text-sm font-medium text-gray-300 mb-3' }, 'Selecione o Serviço'),
                                React.createElement('div', { className: 'grid grid-cols-1 sm:grid-cols-2 gap-4' },
                                    services.map((service) => 
                                        React.createElement('button', {
                                            key: service.id,
                                            type: 'button',
                                            onClick: () => setSelectedService(service.id),
                                            className: `p-4 rounded-xl border-2 transition-all ${
                                                selectedService === service.id
                                                    ? 'border-amber-500 bg-amber-500/10 text-amber-400'
                                                    : 'border-gray-700 hover:border-gray-600 text-gray-300'
                                            }`
                                        },
                                            React.createElement('div', { className: 'font-semibold' }, service.name),
                                            React.createElement('div', { className: 'text-sm mt-1' }, `${service.duration} min • ${service.price}`)
                                        )
                                    )
                                )
                            ),

                            // Personal Info
                            React.createElement('div', { className: 'grid grid-cols-1 sm:grid-cols-2 gap-4' },
                                React.createElement('div', null,
                                    React.createElement('label', { className: 'block text-sm font-medium text-gray-300 mb-2' }, 'Nome Completo'),
                                    React.createElement('input', {
                                        type: 'text',
                                        required: true,
                                        value: customerName,
                                        onChange: (e) => setCustomerName(e.target.value),
                                        className: 'w-full px-4 py-3 bg-gray-700/50 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent',
                                        placeholder: 'Seu nome'
                                    })
                                ),
                                React.createElement('div', null,
                                    React.createElement('label', { className: 'block text-sm font-medium text-gray-300 mb-2' }, 'Telefone'),
                                    React.createElement('input', {
                                        type: 'tel',
                                        required: true,
                                        value: customerPhone,
                                        onChange: (e) => setCustomerPhone(e.target.value),
                                        className: 'w-full px-4 py-3 bg-gray-700/50 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent',
                                        placeholder: '(11) 99999-9999'
                                    })
                                )
                            ),

                            // Date and Time
                            React.createElement('div', { className: 'grid grid-cols-1 sm:grid-cols-2 gap-4' },
                                React.createElement('div', null,
                                    React.createElement('label', { className: 'block text-sm font-medium text-gray-300 mb-2' }, 'Data'),
                                    React.createElement('input', {
                                        type: 'date',
                                        required: true,
                                        value: selectedDate,
                                        min: new Date().toISOString().split('T')[0],
                                        onChange: (e) => setSelectedDate(e.target.value),
                                        className: 'w-full px-4 py-3 bg-gray-700/50 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent'
                                    })
                                ),
                                React.createElement('div', null,
                                    React.createElement('label', { className: 'block text-sm font-medium text-gray-300 mb-2' }, 'Horário'),
                                    React.createElement('select', {
                                        required: true,
                                        value: selectedTime,
                                        onChange: (e) => setSelectedTime(e.target.value),
                                        className: 'w-full px-4 py-3 bg-gray-700/50 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent'
                                    },
                                        React.createElement('option', { value: '' }, 'Selecione um horário'),
                                        ['09:00', '10:00', '11:00', '12:00', '14:00', '15:00', '16:00', '17:00', '18:00'].map(time =>
                                            React.createElement('option', { key: time, value: time }, time)
                                        )
                                    )
                                )
                            ),

                            React.createElement('button', {
                                type: 'submit',
                                className: 'w-full bg-amber-500 hover:bg-amber-600 text-gray-900 font-bold py-4 px-6 rounded-xl transition-colors duration-200 flex items-center justify-center space-x-2'
                            },
                                React.createElement(CalendarIcon, { className: 'w-5 h-5' }),
                                React.createElement('span', null, 'Confirmar Agendamento')
                            )
                        )
                    ),

                    currentView === 'queue' && React.createElement('div', { 
                        className: 'bg-gray-800/50 backdrop-blur-sm rounded-2xl border border-gray-700 p-6 sm:p-8' 
                    },
                        React.createElement('div', { className: 'text-center mb-8' },
                            React.createElement(UsersIcon, { className: 'w-12 h-12 text-amber-500 mx-auto mb-4' }),
                            React.createElement('h2', { className: 'text-3xl font-bold text-white mb-2' }, 'Fila de Espera em Tempo Real'),
                            React.createElement('p', { className: 'text-gray-400' }, 'Acompanhe sua posição na fila')
                        ),

                        queuePosition && React.createElement('div', { 
                            className: 'bg-amber-500/10 border border-amber-500/30 rounded-xl p-6 mb-8 text-center' 
                        },
                            React.createElement('div', { className: 'text-amber-400 mb-2' }, 'Sua Senha'),
                            React.createElement('div', { className: 'text-4xl font-bold text-white mb-2' }, `#${queuePosition}`),
                            React.createElement('div', { className: 'text-gray-300' },
                                'Tempo estimado de espera: ',
                                React.createElement('span', { className: 'font-semibold text-amber-400' }, calculateWaitTime(queuePosition))
                            )
                        ),

                        React.createElement('div', { className: 'space-y-4' },
                            React.createElement('div', { 
                                className: 'flex items-center justify-between text-sm font-medium text-gray-400 pb-2 border-b border-gray-700' 
                            },
                                React.createElement('span', null, 'Cliente'),
                                React.createElement('span', null, 'Serviço'),
                                React.createElement('span', null, 'Status'),
                                React.createElement('span', null, 'Horário')
                            ),
                            
                            queue.length === 0 ? React.createElement('div', { 
                                className: 'text-center py-8 text-gray-500' 
                            },
                                React.createElement(CheckCircleIcon, { className: 'w-12 h-12 mx-auto mb-4 text-green-500' }),
                                React.createElement('p', { className: 'text-lg' }, 'Nenhum cliente na fila no momento!'),
                                React.createElement('p', { className: 'text-sm' }, 'Você pode ser o próximo!')
                            ) : queue.map((customer, index) =>
                                React.createElement('div', {
                                    key: customer.id,
                                    className: `flex items-center justify-between p-4 rounded-xl transition-all ${
                                        customer.status === 'in-progress'
                                            ? 'bg-green-500/10 border border-green-500/30'
                                            : 'bg-gray-700/50 hover:bg-gray-700'
                                    }`
                                },
                                    React.createElement('div', { className: 'flex items-center space-x-3' },
                                        React.createElement('div', { 
                                            className: `w-8 h-8 rounded-full flex items-center justify-center ${
                                                customer.status === 'in-progress' ? 'bg-green-500' : 'bg-amber-500'
                                            }` 
                                        },
                                            React.createElement('span', { 
                                                className: 'text-xs font-bold text-gray-900' 
                                            }, index === 0 ? '✓' : index + 1)
                                        ),
                                        React.createElement('div', null,
                                            React.createElement('div', { className: 'font-medium text-white' }, customer.name),
                                            React.createElement('div', { className: 'text-xs text-gray-400' }, `Senha #${index + 1}`)
                                        )
                                    ),
                                    React.createElement('div', { className: 'text-gray-300 text-sm' }, getServiceName(customer.service)),
                                    React.createElement('div', { 
                                        className: `px-2 py-1 rounded text-xs font-medium ${
                                            customer.status === 'in-progress'
                                                ? 'bg-green-500/20 text-green-400'
                                                : 'bg-amber-500/20 text-amber-400'
                                        }` 
                                    }, customer.status === 'in-progress' ? 'Atendendo' : 'Aguardando'),
                                    React.createElement('div', { className: 'text-gray-400 text-sm' }, formatTime(customer.timestamp))
                                )
                            )
                        ),

                        !queuePosition && React.createElement('div', { 
                            className: 'mt-8 pt-8 border-t border-gray-700' 
                        },
                            React.createElement('h3', { className: 'text-xl font-bold text-white mb-4' }, 'Quer entrar na fila?'),
                            React.createElement('div', { className: 'grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4' },
                                services.map((service) =>
                                    React.createElement('button', {
                                        key: service.id,
                                        type: 'button',
                                        onClick: () => setSelectedService(service.id),
                                        className: `p-3 rounded-lg border transition-all ${
                                            selectedService === service.id
                                                ? 'border-amber-500 bg-amber-500/10 text-amber-400'
                                                : 'border-gray-700 hover:border-gray-600 text-gray-300'
                                        }`
                                    }, service.name)
                                )
                            ),
                            React.createElement('input', {
                                type: 'text',
                                placeholder: 'Seu nome (opcional)',
                                value: customerName,
                                onChange: (e) => setCustomerName(e.target.value),
                                className: 'w-full px-4 py-3 bg-gray-700/50 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent mb-4'
                            }),
                            React.createElement('button', {
                                onClick: handleJoinQueue,
                                className: 'w-full bg-amber-500 hover:bg-amber-600 text-gray-900 font-bold py-3 px-6 rounded-xl transition-colors duration-200 flex items-center justify-center space-x-2'
                            },
                                React.createElement(UsersIcon, { className: 'w-4 h-4' }),
                                React.createElement('span', null, 'Entrar na Fila de Espera')
                            )
                        )
                    ),

                    currentView === 'confirmation' && bookingConfirmation && React.createElement('div', { 
                        className: 'bg-gray-800/50 backdrop-blur-sm rounded-2xl border border-gray-700 p-6 sm:p-8 text-center' 
                    },
                        React.createElement(CheckCircleIcon, { className: 'w-16 h-16 text-green-500 mx-auto mb-6' }),
                        React.createElement('h2', { className: 'text-3xl font-bold text-white mb-4' }, 'Agendamento Confirmado!'),
                        React.createElement('div', { 
                            className: 'bg-gray-700/50 rounded-xl p-6 mb-6 text-left' 
                        },
                            React.createElement('div', { className: 'grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4' },
                                React.createElement('div', null,
                                    React.createElement('div', { className: 'text-gray-400 text-sm' }, 'Cliente'),
                                    React.createElement('div', { className: 'text-white font-semibold' }, bookingConfirmation.name)
                                ),
                                React.createElement('div', null,
                                    React.createElement('div', { className: 'text-gray-400 text-sm' }, 'Telefone'),
                                    React.createElement('div', { className: 'text-white font-semibold' }, bookingConfirmation.phone)
                                ),
                                React.createElement('div', null,
                                    React.createElement('div', { className: 'text-gray-400 text-sm' }, 'Serviço'),
                                    React.createElement('div', { className: 'text-white font-semibold' }, getServiceName(bookingConfirmation.service))
                                ),
                                React.createElement('div', null,
                                    React.createElement('div', { className: 'text-gray-400 text-sm' }, 'Duração'),
                                    React.createElement('div', { className: 'text-white font-semibold' }, `${bookingConfirmation.duration} minutos`)
                                ),
                                React.createElement('div', null,
                                    React.createElement('div', { className: 'text-gray-400 text-sm' }, 'Data'),
                                    React.createElement('div', { className: 'text-white font-semibold' }, bookingConfirmation.date)
                                ),
                                React.createElement('div', null,
                                    React.createElement('div', { className: 'text-gray-400 text-sm' }, 'Horário'),
                                    React.createElement('div', { className: 'text-white font-semibold' }, bookingConfirmation.time)
                                )
                            )
                        ),
                        React.createElement('button', {
                            onClick: () => {
                                setCurrentView('booking');
                                setBookingConfirmation(null);
                                setCustomerName('');
                                setCustomerPhone('');
                                setSelectedDate('');
                                setSelectedTime('');
                            },
                            className: 'bg-amber-500 hover:bg-amber-600 text-gray-900 font-bold py-3 px-8 rounded-xl transition-colors duration-200'
                        }, 'Novo Agendamento')
                    )
                ),

                // Footer
                React.createElement('footer', { 
                    className: 'bg-gray-800/50 backdrop-blur-sm border-t border-gray-700 mt-12' 
                },
                    React.createElement('div', { className: 'max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6' },
                        React.createElement('div', { className: 'text-center text-gray-400' },
                            React.createElement('p', null, '© 2025 Barbearia Elite. Todos os direitos reservados.'),
                            React.createElement('p', { className: 'text-sm mt-2' }, 'Horário de funcionamento: Segunda a Sábado, 09:00 - 19:00')
                        )
                    )
                )
            );
        };

        // Renderizar o app
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(React.createElement(BarbeariaApp));
    </script>
</body>
</html>
